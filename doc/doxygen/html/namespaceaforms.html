<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SysBackup: aforms Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="multi-function-tool-125px.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SysBackup&#160;<span id="projectnumber">v3</span></div>
   <div id="projectbrief">A "swiss-army-knife" automated backup utility for Linux</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('namespaceaforms.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">aforms Namespace Reference</div>  </div>
</div>
<div class="contents">
<table class="memberdecls">
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Application Command Line Arguments handling</p>
<p>The basic issue is that different classes handle different command line arguments. The classes are often in different modules and it is not possible, currently, to gather them all together for purposes such as reporting invalid args.</p>
<p>This class will allow all the different modules to register the arguments that they recognize. The arguments will be registered with enough information that the class will be able to (at the very least) perform the most basic checks for validity.</p>
<p>Arguments will be registered as arrays of argument specs that belong to a particular group of software modules. Each group will be allowed to register a callback function so that the arguments, when they are recognized, can trigger some appropriate behavior.</p>
<p>The argument descriptions should also be complete enough that the class could even produce some help text.</p>
<p>The information to be recorded per argument group will be:</p>
<ul>
<li>GroupID, Optional CallBack Object Reference and CallBackup Method Name, Array of arguments associated with this groupID.</li>
</ul>
<p>The information contained in an array of arguments includes the following items per argument:</p>
<ul>
<li>Argument ID: reference ID for this argument</li>
</ul>
<ul>
<li>Array of arg texts to recognize, ie: -q and --quiet for 'quiet'</li>
</ul>
<ul>
<li>Number of additional parameters that follow this arg, ie: --config &lt;name&gt; requires 1 additional parameter.</li>
</ul>
<ul>
<li>Optional array of default values (1 value per parameter.) These values are for documentation purposes and represent the starting value for the property after initializatoin of the application but before the corresponding argument is processed.</li>
</ul>
<ul>
<li>Optional value to set for this argument. This information is needed when setting flags that do not take any parameters.</li>
</ul>
<ul>
<li>Optional array of property names for this option - to be passed to the callback function when getting and setting the option.</li>
</ul>
<ul>
<li>Short example text for this argument and its parameters.</li>
</ul>
<ul>
<li>Medium description text for this argument and its parameters.</li>
</ul>
<p>For convenience the code should accept individual values instead of arrays of values for cases where the number of parameters is zero or one.</p>
<p>Example:</p>
<p>$args = array( "config" =&gt; array( "args" =&gt; array( "-c", "--config" ), "params" =&gt; 1, "prop" =&gt; array( "app_config" ), "default" =&gt; array( "/etc/application/app.conf" ), "test" =&gt; array( "file-exists" ), "example" =&gt; "--config &lt;file&gt;", "desc" =&gt; "Set the path and file name of the application configuration file.", ),</p>
<p>"quiet" =&gt; array( "args" =&gt; array( "-q", "--quiet" ), "params" =&gt; 0, "prop" =&gt; "quiet_flag", "default" =&gt; false, "value" =&gt; true, "example" =&gt; "--quiet", "desc" =&gt; "Force the application to run without issuing any messages to the console.", ), );</p>
<p>Available Parameter Value tests for validity:</p>
<ul>
<li>file-not-exists: valid if the file does not exist</li>
<li>file-exists: valid if the file exists</li>
<li>dir-not-exists: valid if the folder does not exist</li>
<li>dir-exists: valid if the folder exists</li>
<li>email: valid if the string contains an @ followed by a .</li>
<li>string: always valid</li>
<li>date: valid if the PHP strtotime function can parse the value</li>
<li>time: valid if the PHP strtotime function can parse the value</li>
<li>stamp: valid if the PHP strtotime function can parse the value</li>
<li>bool: valid if the</li>
<li>truefalse: valid if the value is either true or false</li>
<li>yesno: valid if the value is either yes or no</li>
<li>onoff: valid if the value is either on or off</li>
<li>int: valid if the integer value of the string is identical to the string</li>
<li>float: valid if the float value of the string is identical to the string</li>
</ul>
<p>Callback handlers:</p>
<p>Objects that need to be notified when a command line arg has been scanned can set a callback handler to receive the notification. The handler will look like this:</p>
<p>function callback( $group_id, $arg_id, $param_count, $args, $arg_spec ) { echo "at callback( {$group_id}, {$arg_id}, {$param_count}, args, arg_spec )\n"; var_dump( $args ); }</p>
<p>Where:</p>
<ul>
<li>$group_id is the group id that registered the matched argspec</li>
</ul>
<ul>
<li>$arg_id is the id of the arg (from the argspec) that matches the scanned argument.</li>
</ul>
<ul>
<li>$param_count is the number of parameters after the arg, ie: "--conf path/file" has one parameter, the path/file.</li>
</ul>
<ul>
<li>$args is an array containing the items found, ie: $args = array( "--conf", "path/file" ) for a valid reference to a configuration file. Note that the first element of the array is always the argument that was matched and the subsequent elements contain the parameters to the argument.</li>
</ul>
<ul>
<li>$arg_spec is the argument specification that was registered by the module.</li>
</ul>
<p><b>TODO: Help</b></p>
<p>At this point there is enough information in the args array to make it possible to display all possible command line options - but more info is needed to produce a full help text. In particular a set of bare args specs would be needed along with a help text file.</p>
<p>Once all the information is registered with the class it should be possible to execute a simply method call to produce a full help screen that is automatically maintained whenever any of the loaded software modules are updated.</p>
<p><b>TODO: Bare Args</b></p>
<p>Most command line or system applications are designed to interpret bare arguments in some way. One example would be a command oriented app which determines the meaning of the bare args according to the command option that was specified at the start of the command line.</p>
<p>In any case the current software is able to list all the bare args that it finds in the ::bare_args array - but it is not able to validate the args or trigger a callback under any conditions to initiate any processing. It would be nice if there was some way to list all the possible combinations of bare args and command options so that the class could simply determine which combination to use and execute an appropriate callback by itself.</p>
<p><b>(done): option validation</b></p>
<p>It would be nice if each command line option could accept a "test" parameter, ie: "test" =&gt; "&lt;something&gt;" where &lt;something&gt; might be to test for a valid date/time/int/float/bool, etc. It would also be nice to be able to test for files that exist or do not exist or folders that exist or do not exist. This would probably simplify the coding of a great many system applications in the future.</p>
<p><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  General logging class  utility class to log messages to a log file  extends stopwatch as that functionality is often used in simple server maintenance scripts  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>   lib-sys  General Named Function Parameters  This is a feeble attempt at managing tree structures of named function parameters (optional and various types of required parameters.) It is the second major attempt, over the past decade, to manage this issue. Unfortunately the results to-date have not been as desired. In any case this code is still being used because it is needed. Far too many class methods have too many parameters that are hard to remember - so the programmers who use them need error checking and useful error messages.  Each List of Parameters has Category, Class, Method and Index names. For example you can create a category for your company customer database middleware: "ACME::CUST". The actual string is not important but it must be unique.  Within each category the parameters are grouped by Class. So if you have a class called customer_io_base_c you might want to use "customer_io" as the index for parameters related to the methods provided by that base class.  Within each class the parameters are grouped by a Method name. In most cases this will be a method name such as write_customer.  The real problem is that the customer_io_base_c will be extended and the extended version of write_customer will require additional parameters not needed by the method in the base class. Therefore the parameter lists are broken down one last time by Index. The index need not be numeric - it can be strings like BASE and EXTENDED.  The idea is that it is possible to aggregate all the parameter lists within a given Category, Class &amp; Method. The programmer can then get a warning if an extra parameter is found in a named parameter list (usually a typo in the code,) or if a required parameter is missing (usually a programming error.)  Because the parameter lists are stored in a static array they are available to any method in any class. This allows helpful error messages to be provided to programmers in cases where a method is passing parameter lists to otherwise unrelated methods in another class.  The resulting parameter lists look like this:  $named_parameters-&gt;all[Category][Class][Method][Index] = array( ParamName =&gt; array( &lt;req-flag&gt;, [def-val,] [local-name,] &lt;help-text&gt; ), ParamName =&gt; array( &lt;req-flag&gt;, [def-val,] [local-name,] &lt;help-text&gt; ), ... ] );  The required flag and help-text are required. The default value and local variable name are optional. Note that you must provide a default value if you want to define a local variable name. These features simplify the unloading of named parameters into local method variables.  Because the parameter lists can include default values and help strings it is possible to loop through the list to produce helpful messages for the programmer.  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-general  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  Named Parameter Management class   lib-general  General Network funcs  </a><b>Copyright</b></p>
<p>Copyright (c) 2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01a</dd></dl>
<p>lib-general  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2001-2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  System utility Plugin Framework  </a>This module contains a base class that can be sub-classed to create a system utility with a plugin-based architecture.</p>
<p>This framework executes a system procedure in the following steps:</p>
<ul>
<li>
<p class="startli">Load any plugins found. The system can list plugin files in a particular directory and load them into an appropriate list structure.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Load any configuration files found. Each configuration file is effectively an event handler that, when called, executes one of the plugins to perform a desired function. The plugin architecture will load all the configuration files, assign the various tasks to the desired events and sort them into the desired order.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Trigger the various events in the desired order, instantiating the appropriate plugin objects as needed for each task and executing the task.</p>
<p class="endli"></p>
</li>
</ul>
<p>The application will sub-class this framework and add any additional behavior required. The actual tasks performed by the application will then be controlled by the configuration scripts which will make use of the various plugins.</p>
<p><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<p><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  General stopwatch funcs  utility class to keep track of job times  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-general  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  stopwatch class   Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt;  0.01 (alpha)   lib-general  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved  <a href="http://www.azertech.net/">http://www.azertech.net/</a>  <a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  System utils - utility function to exec a process  WARNING: There are a million different ways this code might be wrong, a million ways it might break in various situations and a million kinds of errors it might not handle well.  It's easy to get this code to work for any given set of normal working conditions - it's another thing entirely to be confident that it handles a wider variety of situations - especially errors.  The fact that it works so well in general should not be considered relevant as it's the error cases that are important! REVIEW THIS CODE CAREFULLY to verify that it is suitable for your intended purpose. If you have a problem with this code PLEASE TELL THE AUTHOR (see below) so that the code can be adjusted appropriately.  <b>sysfilter()</b> is an exec()-like utility which can send a string to the std input stream of a process and filter the std output through a second process. The error streams of the two processes are saved, along with their exit codes. sysfilter() usage is similar to sysexec() usage as follows below.  <b>sysexec()</b> is an exec()-like utility which can send a string to the std input stream of a process and save the std output, error streams and exit code.  </a>Executes the system command in $cmd, optionally using additional information that can be provided through the $params array. <a class="el" href="general-sysexec_8inc.html#ae6efbf28782d7bf198e599ea0a0c121a">sysexec()</a> is a wrapper for the PHP proc_open() function. See the proc_open() documentation for details related to this and related functions:</p>
<p><a href="http://www.php.net/manual/en/function.proc-open.php">http://www.php.net/manual/en/function.proc-open.php</a></p>
<p>By default the <a class="el" href="general-sysexec_8inc.html#ae6efbf28782d7bf198e599ea0a0c121a">sysexec()</a> command will setup three pipes for the process to be executed: stdin, stdout and stderr. By default the current working directory is used for the process and the environment of the current process is used for the new process. The stdin stream is closed immediately after the process starts. These defaults can be changed by passing parameters through the $params array, as follows:</p>
<pre></pre><pre>    $params["descriptorspec"] = array( 0 =&gt; array( "pipe", "r" ), ... );</pre><pre>       Allows the caller to override the stdin, out and error
       streams and/or create additional input and output streams
       for the called process. See the descriptorspec
       documentation in the above-mentioned manual page for
       additional information on this parameter.</pre><pre>    $params["stdin"] = "a string to be sent to the process through stdin";</pre><pre>       Allows the caller to send text through the stdin pipe to
       the exec'd process.</pre><pre>    $params["cwd"] = "/home/demo/public/";</pre><pre>       Allows the caller to change the current working directory
       for the exec'd process.</pre><pre>    $params["env"] = array( "MyEnvVar" =&gt; "TheValue", ... );</pre><pre>       Allows the caller to provide a set of environment
       variables for the exec'd process.</pre><pre>    $params["other_options"] = array( ... );</pre><pre>       Allows the caller to pass "other_options" to the PHP
       proc_open() function as described in the PHP manual page
       (see url above.)</pre><pre> </pre><p>The <a class="el" href="general-sysexec_8inc.html#ae6efbf28782d7bf198e599ea0a0c121a">sysexec()</a> function fills the $r array with a variety of pieces of information collected prior to the call to PHP's proc_close() function. This information is:</p>
<pre></pre><pre>    $r["command"]     string  The $cmd being exec'd 
    $r["pid"]         int     The process ID (***usually from the shell)
    $r["running"]     bool    flag - see the proc_open() manual page
    $r["signaled"]    bool    flag - see the proc_open() manual page
    $r["stopped"]     bool    flag - see the proc_open() manual page
    $r["exitcode"]    int     The exit code (***usually from the shell)
    $r["termsig"]     int     signal - see the proc_open() manual page
    $r["stopsig"]     int     signal - see the proc_open() manual page
    $r["pipe_stdin"]  bool    flag true if the stdin pipe was found
    $r["pipe_stdout"] bool    flag true if the stdout pipe was found
    $r["pipe_stderr"] bool    flag true if the stderr pipe was found
    $r["stdout"]      string  Process output on the stdout pipe
    $r["stderr"]      string  Process output on the stderr pipe
    $r["proc_close"]  int     The value returned by PHP's proc_close() function</pre><pre> </pre><p>NOTE: *** The proc_open() function will usually execute a shell which will then execute the $cmd command. As a result the pid and exitcode may not contain meaningful information - they often refer to the shell process. See the PHP proc_open() manual page (in the comments section) for hints (ie: exec,) on how to get the desired process information. (NOTE THAT COMMENTS SUGGESTING PID+1 are wrong as a server spawns many processes very quickly and their PID's can't be assumed to be sequential.)</p>
<p>Returns false if PHP's proc_open() function succeeds. Returns true if proc_open() failed. Note that the true or false return information provded by the PHP proc_open() function only indicates that PHP was able to exec a process. This says nothing about the success or failure of the command in $cmd.</p>
<p>TODO: What I really needed is a class that can run a process and report on the status of that process. This would allow me to run multiple processes simulaneously. Convert this to a class that is able to return process info. Change the functions so that they instantiate objects of the class and wait for the associated processes to finish.</p>
<p><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  System utils - utility and support for linux systems  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  A class that tries to determine in which distro it is running.   lib-sys  A class that collects basic information about the effective user and group. This info can later be used, for example, when producing error messages.   lib-sys  General tee (write to the screen and/or a screen dump file)  utility class to display status messages while logging them for future review  extends the logging class as that functionality is often used in simple server maintenance scripts   Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt;  0.01 (alpha)   lib-sys  <a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a> GPL  2011 by Sam Azer, All rights reserved  <a href="http://www.azertech.net/">http://www.azertech.net/</a>  <a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  General Util funcs  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>5.0</dd></dl>
<p>lib-general  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2001-2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  Account Information (Users &amp; Groups)  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2009-2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a> #@- Account Information Class  The Account Information class is primarily used to collect information from the system password &amp; group files. The information is loaded into the properties called users and groups. Additional methods are available to export the information in the form of standard Linux administration commands. When executed the commands will reconstruct the original user and group information.   lib-sys  Account Migration (Users &amp; Groups)  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2009-2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  Account Info Class  The Account Info class scans the system files to collect account information. Account Migration Class  The Account Migration class is used to export system account information in the form of standard Linux administration commands. When executed the commands will reconstruct the original user and group information.   lib-sys  System utils - Generate a system package list  <b>package_list()</b> is a simple method that calls the distro package management software to emit a list of installed packages. (This code was originally written as part of a server backup solution that saves a list of the installed packages as part of the server state.)  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-general  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  Remote File I/O Operations  </a>Utility class to execute filesystem &amp; copy functions on a remote server. Extends the <a class="el" href="classremote__filesystem__c.html">remote_filesystem_c</a> class in the sys-remote-filesystem.inc module to add file SCP to and from the remote system.</p>
<p><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  Remote Filesystem Operations  </a>Utility class to execute filesystem functions on a remote server.</p>
<p>At the time of this writing, this class executes the localexec filesystem commands, via ssh, on a remote computer. Results are returned in a manner similar to that of the corresponding filesystem functions provided by PHP.</p>
<p><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a>  General tarball support  This class is used to generate tarballs. The class is designed to allow the calling software to specify a tool for making tarballs (ie: usually tar or pax,) and, later, change the choice without having to make any other changes to the calling software.  Note the use of a separate gzip filter rather than using the compression built into the tar/pax utility. This is because gzip and other filters normally embed a time stamp and file name into their output streams. As a result of this timestamp it is impossible for two tarballs of the same collection of files to have the same sha1 hash. To avoid this problem the tarball is generated as uncompressed data and piped through the filter using an option to suppress the timestamp info.  This class consists of code extracted from the nightly-backup utility, v2.  todo 1.  </a><b>Copyright</b></p>
<p>Copyright (c) 2001-2011 by Sam Azer, All Rights Reserved.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sam Azer &lt;<a href="mailto:sam@azertech.net">sam@azertech.net</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.01 (alpha)</dd></dl>
<p>lib-sys  <a href="http://www.gnu.org/licenses/agpl.html">http://www.gnu.org/licenses/agpl.html</a> AGPL  2001-2011 by Sam Azer, All rights reserved <a class="el" href=""><a href="http://www.samazer.net/about">http://www.samazer.net/about</a> </a></p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceaforms.html">aforms</a>      </li>
      <li class="footer">Generated on Sun Jan 15 2012 12:25:55 for SysBackup by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
