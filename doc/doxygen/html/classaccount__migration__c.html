<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SysBackup: account_migration_c Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="multi-function-tool-125px.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SysBackup&#160;<span id="projectnumber">v3</span></div>
   <div id="projectbrief">A "swiss-army-knife" automated backup utility for Linux</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classaccount__migration__c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">account_migration_c Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="account_migration_c" --><!-- doxytag: inherits="account_info_c" --><div class="dynheader">
Inheritance diagram for account_migration_c:</div>
<div class="dyncontent">
<div class="center"><img src="classaccount__migration__c__inherit__graph.png" border="0" usemap="#account__migration__c_inherit__map" alt="Inheritance graph"/></div>
<map name="account__migration__c_inherit__map" id="account__migration__c_inherit__map">
<area shape="rect" id="node2" href="classaccount__info__c.html" title="{account_info_c\n|+ $dir\l+ $host\l+ $users\l+ $groups\l|+ user()\l+ group()\l+ read_passwd()\l+ read_shadow()\l+ read_group()\l+ read_gshadow()\l+ __construct()\l}" alt="" coords="25,6,151,247"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for account_migration_c:</div>
<div class="dyncontent">
<div class="center"><img src="classaccount__migration__c__coll__graph.png" border="0" usemap="#account__migration__c_coll__map" alt="Collaboration graph"/></div>
<map name="account__migration__c_coll__map" id="account__migration__c_coll__map">
<area shape="rect" id="node2" href="classaccount__info__c.html" title="{account_info_c\n|+ $dir\l+ $host\l+ $users\l+ $groups\l|+ user()\l+ group()\l+ read_passwd()\l+ read_shadow()\l+ read_group()\l+ read_gshadow()\l+ __construct()\l}" alt="" coords="25,6,151,247"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaccount__migration__c.html#a7ca2f40838354c46d6f5b23ffdd49fb5">__construct</a> ($dir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaccount__migration__c.html#ac02f061e1a918a2d899f3231a2ee5fe3">gen_groupadd</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaccount__migration__c.html#a6a51f9452f7814b72ce369047510d1c1">gen_useradd</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaccount__migration__c.html#a6519e670f75876c9ebf5b330a63c91af">migration_commands</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="sys-account-migration_8inc_source.html#l00058">58</a> of file <a class="el" href="sys-account-migration_8inc_source.html">sys-account-migration.inc</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7ca2f40838354c46d6f5b23ffdd49fb5"></a><!-- doxytag: member="account_migration_c::__construct" ref="a7ca2f40838354c46d6f5b23ffdd49fb5" args="($dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Object constructor</p>
<p>initialization function that calls the various initialization methods. See the constructor in usersgroups.inc.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dir</td><td>the path to the directory containing the passwd file. This parameter is required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Reimplemented from <a class="el" href="classaccount__info__c.html#a7ca2f40838354c46d6f5b23ffdd49fb5">account_info_c</a>.</p>

<p>Definition at line <a class="el" href="sys-account-migration_8inc_source.html#l00073">73</a> of file <a class="el" href="sys-account-migration_8inc_source.html">sys-account-migration.inc</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac02f061e1a918a2d899f3231a2ee5fe3"></a><!-- doxytag: member="account_migration_c::gen_groupadd" ref="ac02f061e1a918a2d899f3231a2ee5fe3" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gen_groupadd </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generate Linux GroupAdd commands</p>
<p>This export script generates a Linux groupadd command that, when executed, has the effect of recreating a group account. The command is built-up as a string and returned to the caller. Note that some of the information found in the group and gshadow files is not exported using this procedure.</p>
<p>Following is the help text from the GroupAdd command:</p>
<pre>
  Usage: groupadd [options] group</pre><pre>   Options:
    -f, --force         force exit with success status if the specified
                        group already exists
    -r,                 create system account
    -g, --gid GID       use GID for the new group
    -h, --help          display this help message and exit
    -K, --key KEY=VALUE overrides /etc/login.defs defaults
    -o, --non-unique    allow create group with duplicate
                        (non-unique) GID</pre><pre> </pre> <dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>the id of the group account to be recreated on another server. This parameter is required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classaccount__info__c.html#a4bb66b86087f9498bbadf1ce51dab5e1">$groups</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="sys-account-migration_8inc_source.html#l00112">112</a> of file <a class="el" href="sys-account-migration_8inc_source.html">sys-account-migration.inc</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classaccount__migration__c_ac02f061e1a918a2d899f3231a2ee5fe3_icgraph.png" border="0" usemap="#classaccount__migration__c_ac02f061e1a918a2d899f3231a2ee5fe3_icgraph" alt=""/></div>
<map name="classaccount__migration__c_ac02f061e1a918a2d899f3231a2ee5fe3_icgraph" id="classaccount__migration__c_ac02f061e1a918a2d899f3231a2ee5fe3_icgraph">
<area shape="rect" id="node3" href="classaccount__migration__c.html#a6519e670f75876c9ebf5b330a63c91af" title="migration_commands" alt="" coords="157,5,304,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a51f9452f7814b72ce369047510d1c1"></a><!-- doxytag: member="account_migration_c::gen_useradd" ref="a6a51f9452f7814b72ce369047510d1c1" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gen_useradd </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generate Linux UserAdd commands</p>
<p>This export script generates useradd command that, when executed, has the effect of recreating a user account. The command is built-up as a string and returned to the caller.</p>
<p>Following is the help text from the UserAdd command:</p>
<pre></pre><pre>   Usage: useradd [options] LOGIN</pre><pre>   Options:
    -b, --base-dir BASE_DIR      base directory for the new user account
                                 home directory
    -c, --comment COMMENT        set the GECOS field for the new user account
    -d, --home-dir HOME_DIR      home directory for the new user account
    -D, --defaults               print or save modified default useradd
                                 configuration
    -e, --expiredate EXPIRE_DATE set account expiration date to EXPIRE_DATE
    -f, --inactive INACTIVE      set password inactive after expiration
                                 to INACTIVE
    -g, --gid GROUP              force use GROUP for the new user account
    -G, --groups GROUPS          list of supplementary groups for the new
                                 user account
    -h, --help                   display this help message and exit
    -k, --skel SKEL_DIR          specify an alternative skel directory
    -K, --key KEY=VALUE          overrides /etc/login.defs defaults
    -m, --create-home            create home directory for the new user
                                 account
    -l,                          do not add user to lastlog database file
    -M,                          do not create user's home directory(overrides /etc/login.defs)
    -r,                          create system account
    -o, --non-unique             allow create user with duplicate
                                 (non-unique) UID
    -p, --password PASSWORD      use encrypted password for the new user
                                 account
    -s, --shell SHELL            the login shell for the new user account
    -u, --uid UID                force use the UID for the new user account
    -Z, --selinux-user SEUSER    use a specific SEUSER for the SELinux user mapping</pre><pre> </pre><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>the user id of the user account to be recreated on another server. This parameter is required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classaccount__info__c.html#ab5d5e768085aee48e7d6b967e57f034e">$users</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="sys-account-migration_8inc_source.html#l00183">183</a> of file <a class="el" href="sys-account-migration_8inc_source.html">sys-account-migration.inc</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classaccount__migration__c_a6a51f9452f7814b72ce369047510d1c1_icgraph.png" border="0" usemap="#classaccount__migration__c_a6a51f9452f7814b72ce369047510d1c1_icgraph" alt=""/></div>
<map name="classaccount__migration__c_a6a51f9452f7814b72ce369047510d1c1_icgraph" id="classaccount__migration__c_a6a51f9452f7814b72ce369047510d1c1_icgraph">
<area shape="rect" id="node3" href="classaccount__migration__c.html#a6519e670f75876c9ebf5b330a63c91af" title="migration_commands" alt="" coords="149,5,296,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6519e670f75876c9ebf5b330a63c91af"></a><!-- doxytag: member="account_migration_c::migration_commands" ref="a6519e670f75876c9ebf5b330a63c91af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">migration_commands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generate Migration Commands</p>
<p>This export script calls the methods to generate the user and group account creation commands based on the information in the $users and $groups arrays. The resulting command strings are simply echod to the console. The sysadmin will likely redirect this output to a file for later review. Once the sysadmin has verified that the commands in the script are correct the script can be moved to the target server and executed to recreate the user and group accounts.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>the user id of the user account to be recreated on another server. This parameter is required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classaccount__info__c.html#ab5d5e768085aee48e7d6b967e57f034e">$users</a> </dd>
<dd>
<a class="el" href="classaccount__info__c.html#a4bb66b86087f9498bbadf1ce51dab5e1">$groups</a> </dd>
<dd>
<a class="el" href="classaccount__migration__c.html#a6a51f9452f7814b72ce369047510d1c1">gen_useradd()</a> </dd>
<dd>
<a class="el" href="classaccount__migration__c.html#ac02f061e1a918a2d899f3231a2ee5fe3">gen_groupadd()</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="sys-account-migration_8inc_source.html#l00233">233</a> of file <a class="el" href="sys-account-migration_8inc_source.html">sys-account-migration.inc</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classaccount__migration__c_a6519e670f75876c9ebf5b330a63c91af_cgraph.png" border="0" usemap="#classaccount__migration__c_a6519e670f75876c9ebf5b330a63c91af_cgraph" alt=""/></div>
<map name="classaccount__migration__c_a6519e670f75876c9ebf5b330a63c91af_cgraph" id="classaccount__migration__c_a6519e670f75876c9ebf5b330a63c91af_cgraph">
<area shape="rect" id="node3" href="classaccount__migration__c.html#ac02f061e1a918a2d899f3231a2ee5fe3" title="gen_groupadd" alt="" coords="201,5,303,35"/><area shape="rect" id="node5" href="classaccount__migration__c.html#a6a51f9452f7814b72ce369047510d1c1" title="gen_useradd" alt="" coords="204,59,300,88"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/<a class="el" href="sys-account-migration_8inc_source.html">sys-account-migration.inc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classaccount__migration__c.html">account_migration_c</a>      </li>
      <li class="footer">Generated on Sun Jan 15 2012 01:20:23 for SysBackup by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
